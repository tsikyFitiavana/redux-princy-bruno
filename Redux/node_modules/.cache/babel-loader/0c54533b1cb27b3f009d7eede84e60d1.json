{"ast":null,"code":"import _defineProperty from \"/home/bruno/Documents/projet/my-shop/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/bruno/Documents/projet/my-shop/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/bruno/Documents/projet/my-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/bruno/Documents/projet/my-shop/src/MesPackets/AjouterProd.js\";\nimport React, { useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './ajouterPro.css';\n\nvar AjouterProd = function AjouterProd(props) {\n  var initialFormState = {\n    id: null,\n    name: '',\n    prixProd: '',\n    DescriptionProd: ''\n  };\n\n  var _useState = useState(initialFormState),\n      _useState2 = _slicedToArray(_useState, 2),\n      produit = _useState2[0],\n      setUser = _useState2[1];\n\n  var handleInputChange = function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setUser(_objectSpread({}, produit, _defineProperty({}, name, value)));\n  };\n\n  var input = document.querySelector('input');\n  var preview = document.querySelector('.preview');\n  input.addEvent('change', updateImageDisplay);\n  input.style.opacity = 0;\n\n  function updateImageDisplay() {\n    while (preview.firstChild) {\n      preview.removeChild(preview.firstChild);\n    }\n\n    var curFiles = input.files;\n\n    if (curFiles.length === 0) {\n      var para = document.createElement('p');\n      para.textContent = 'No files currently selected for upload';\n      preview.appendChild(para);\n    } else {\n      var list = document.createElement('ol');\n      preview.appendChild(list);\n\n      for (var i = 0; i < curFiles.length; i++) {\n        var listItem = document.createElement('li');\n        para = document.createElement('p');\n\n        if (validFileType(curFiles[i])) {\n          para.textContent = 'File name ' + curFiles[i].name + ', file size ' + returnFileSize(curFiles[i].size) + '.';\n          var image = document.createElement('img');\n          image.src = window.URL.createObjectURL(curFiles[i]);\n          listItem.appendChild(image);\n          listItem.appendChild(para);\n        } else {\n          para.textContent = 'File name ' + curFiles[i].name + ': Not a valid file type. Update your selection.';\n          listItem.appendChild(para);\n        }\n\n        list.appendChild(listItem);\n      }\n    }\n  }\n\n  var fileTypes = ['image/jpeg', 'image/pjpeg', 'image/png'];\n\n  function validFileType(file) {\n    for (var i = 0; i < fileTypes.length; i++) {\n      if (file.type === fileTypes[i]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function returnFileSize(number) {\n    if (number < 1024) {\n      return number + ' octets';\n    } else if (number >= 1024 && number < 1048576) {\n      return (number / 1024).toFixed(1) + ' Ko';\n    } else if (number >= 1048576) {\n      return (number / 1048576).toFixed(1) + ' Mo';\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ajoutProd\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    method: \"post\",\n    enctype: \"multipart/form-data\",\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      if (!produit.name || !produit.prixProd || !produit.DescriptionProd) return;\n\n      if (isNaN(produit.prixProd)) {\n        var err = document.getElementById('addErreur');\n        err.innerHTML = 'Entrer un nombre';\n      } else {\n        var err2 = document.getElementById('addErreur');\n        err2.innerHTML = '';\n        props.addProduit(produit);\n        props.setCount(props.count + 1);\n        setUser(initialFormState);\n      }\n    },\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Produit\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: produit.name,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Prix\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"prixProd\",\n    value: produit.prixProd,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"addErreur\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    name: \"DescriptionProd\",\n    value: produit.DescriptionProd,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"image_uploads\",\n    name: \"image_uploads\",\n    accept: \".jpg, .jpeg, .png\",\n    multiple: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-info btn-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Ajouter\"))), React.createElement(\"div\", {\n    class: \"preview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Aucun fichier s\\xE9lectionn\\xE9 pour le moment\")));\n};\n\nexport default AjouterProd;","map":{"version":3,"sources":["/home/bruno/Documents/projet/my-shop/src/MesPackets/AjouterProd.js"],"names":["React","useState","AjouterProd","props","initialFormState","id","name","prixProd","DescriptionProd","produit","setUser","handleInputChange","event","target","value","input","document","querySelector","preview","addEvent","updateImageDisplay","style","opacity","firstChild","removeChild","curFiles","files","length","para","createElement","textContent","appendChild","list","i","listItem","validFileType","returnFileSize","size","image","src","window","URL","createObjectURL","fileTypes","file","type","number","toFixed","preventDefault","isNaN","err","getElementById","innerHTML","err2","addProduit","setCount","count"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './ajouterPro.css'\n\nconst AjouterProd = props => {\n\tconst initialFormState = { id: null, name: '', prixProd: '', DescriptionProd:''}\n\tconst [ produit, setUser ] = useState(initialFormState)\n\n\tconst handleInputChange = event => {\n\t\tconst { name, value } = event.target\n\n\t\tsetUser({ ...produit, [name]: value })\n    \n      } \n        var input = document.querySelector('input');\n        var preview = document.querySelector('.preview');\n        input.addEvent('change', updateImageDisplay);\n        input.style.opacity = 0;\n        function updateImageDisplay() {\n            while(preview.firstChild) {\n              preview.removeChild(preview.firstChild);\n            }\n          \n            var curFiles = input.files;\n            if(curFiles.length === 0) {\n              var para = document.createElement('p');\n              para.textContent = 'No files currently selected for upload';\n              preview.appendChild(para);\n            } else {\n              var list = document.createElement('ol');\n              preview.appendChild(list);\n              for(var i = 0; i < curFiles.length; i++) {\n                var listItem = document.createElement('li');\n                 para = document.createElement('p');\n                if(validFileType(curFiles[i])) {\n                  para.textContent = 'File name ' + curFiles[i].name + ', file size ' + returnFileSize(curFiles[i].size) + '.';\n                  var image = document.createElement('img');\n                  image.src = window.URL.createObjectURL(curFiles[i]);\n          \n                  listItem.appendChild(image);\n                  listItem.appendChild(para);\n          \n                } else {\n                  para.textContent = 'File name ' + curFiles[i].name + ': Not a valid file type. Update your selection.';\n                  listItem.appendChild(para);\n                }\n          \n                list.appendChild(listItem);\n              }\n            }\n          }\n          var fileTypes = [\n            'image/jpeg',\n            'image/pjpeg',\n            'image/png'\n          ]\n          \n          function validFileType(file) {\n            for(var i = 0; i < fileTypes.length; i++) {\n              if(file.type === fileTypes[i]) {\n                return true;\n              }\n            }\n          \n            return false;\n          }\n          function returnFileSize(number) {\n            if(number < 1024) {\n              return number + ' octets';\n            } else if(number >= 1024 && number < 1048576) {\n              return (number/1024).toFixed(1) + ' Ko';\n            } else if(number >= 1048576) {\n              return (number/1048576).toFixed(1) + ' Mo';\n            }\n          }\n    \n\treturn (\n\t\t<div className=\"container\">\n            <div className=\"ajoutProd\">\n                <form   method=\"post\" enctype=\"multipart/form-data\"\n                    onSubmit={event => {\n                        event.preventDefault()\n                        if (!produit.name || !produit.prixProd || !produit.DescriptionProd) return\n\n                        if(isNaN(produit.prixProd)){\n                            var err = document.getElementById('addErreur')\n                            err.innerHTML = 'Entrer un nombre'\n                        }else{\n                            var err2 = document.getElementById('addErreur')\n                            err2.innerHTML = ''\n                            props.addProduit(produit)\n                            props.setCount(props.count +1)\n                            setUser(initialFormState)\n                        }\n                    }} className=\"form-group\">\n                        <label>Produit</label>\n                        <input type=\"text\" name=\"name\" value={produit.name} onChange={handleInputChange} />\n                        <br/>\n                        <br/>\n                        <label>Prix</label>\n                        <input type=\"text\" name=\"prixProd\" value={produit.prixProd} onChange={handleInputChange} />\n                        <p id=\"addErreur\"></p>\n                        <br/>\n                        <br/>\n                        <label>Description</label>\n                        <textarea type=\"text\" name=\"DescriptionProd\" value={produit.DescriptionProd} onChange={handleInputChange} ></textarea>\n                        <br/>\n                        <input type=\"file\" id=\"image_uploads\" name=\"image_uploads\" accept=\".jpg, .jpeg, .png\" multiple></input>\n                        <br/>\n                        <button className=\"btn btn-info btn-sm\">Ajouter</button>\n                </form>\n            </div>\n            <div class=\"preview\">\n                <p>Aucun fichier sélectionné pour le moment</p>\n            </div>\n\t\t</div>\n\t)\n}\n\nexport default AjouterProd"]},"metadata":{},"sourceType":"module"}
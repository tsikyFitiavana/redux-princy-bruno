{"ast":null,"code":"var crypto = require('crypto');\n/**\n * memHandler - In memory upload handler\n * @param {object} options\n * @param {string} fieldname\n * @param {string} filename\n */\n\n\nmodule.exports = function (options, fieldname, filename) {\n  var buffers = [];\n  var fileSize = 0; // eslint-disable-line\n\n  var hash = crypto.createHash('md5');\n  return {\n    dataHandler: function dataHandler(data) {\n      buffers.push(data);\n      hash.update(data);\n      fileSize += data.length;\n\n      if (options.debug) {\n        return console.log('Uploading %s -> %s, bytes: %d', fieldname, filename, fileSize); // eslint-disable-line\n      }\n    },\n    getBuffer: function getBuffer() {\n      return Buffer.concat(buffers);\n    },\n    getFilePath: function getFilePath() {\n      return '';\n    },\n    getFileSize: function getFileSize() {\n      return fileSize;\n    },\n    getHash: function getHash() {\n      return hash.digest('hex');\n    },\n    complete: function complete() {\n      return Buffer.concat(buffers);\n    },\n    cleanup: function cleanup() {}\n  };\n};","map":null,"metadata":{},"sourceType":"script"}
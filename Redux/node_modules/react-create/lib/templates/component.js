'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _env_vars = require('../constants/env_vars');

var _npmImports = require('../constants/npm-imports');

var deps = _interopRequireWildcard(_npmImports);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var args = process.argv.slice(2),
    component = args[1];

var template = void 0,
    reactImports = void 0,
    compBody = void 0,
    compEnd = '';

// Generate ES5 Component
if (_env_vars.es5) {
  reactImports = deps.React[1];
  compBody = '\n\nvar ' + component + ' = React.createClass({\n  render: function() {\n    return (\n      <div className="' + component.toLowerCase() + '">\n        { this.props.children }\n      </div>\n    )\n  }\n})\n';
}

// Or ES6 Component
else {
    reactImports = deps.React[0];
    compBody = '\n\nexport default class ' + component + ' extends Component {\n  render() {\n    return (\n      <div className="' + component.toLowerCase() + '">\n        { this.props.children }\n      </div>\n    )\n  }\n}\n';
  }

// Mounts component to the DOM
if (_env_vars.isEntry) {
  if (_env_vars.es5) {
    reactImports += '\n' + deps.ReactDOM[1];
  } else {
    reactImports += '\n' + deps.ReactDOM[0];
  }

  compEnd += '\nReactDOM.render(<' + component + '/>, document.getElementById(\'app\'));\n';
} else {
  if (_env_vars.es5) {
    compEnd += '\nmodule.exports = ' + component + ';\n  ';
  }
}

template = reactImports + compBody + compEnd;

// Export component
exports.default = template;